<div class="pinmodal modal">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">

      <form class="form-horizontal"
            ng-submit="$hide(); callback(pin)">

        <div class="modal-header">
          <button type="button" class="close" title="Cancel"
                  ng-click="$hide(); callback()">&times;</button>
          <h4 class="modal-title"
              ng-switch="type">
            <span ng-switch-when="PinMatrixRequestType_Current">
              Please enter current PIN:
            </span>
            <span ng-switch-when="PinMatrixRequestType_NewFirst">
              Please enter new PIN:
            </span>
            <span ng-switch-when="PinMatrixRequestType_NewSecond">
              Please re-enter new PIN:<br>
              <small class="text-danger">Note that the positions of numbers shown on the device have changed!</small>
            </span>
          </h4>
        </div>
        <div class="modal-body">

          <div class="form-group">
            <span class="col-sm-4">
              <button type="button" class="btn btn-block btn-lg"
                      ng-click="pin = pin + '7'">&nbsp;</button>
            </span>
            <span class="col-sm-4">
              <button type="button" class="btn btn-block btn-lg"
                      ng-click="pin = pin + '8'">&nbsp;</button>
            </span>
            <span class="col-sm-4">
              <button type="button" class="btn btn-block btn-lg"
                      ng-click="pin = pin + '9'">&nbsp;</button>
            </span>
          </div>
          <div class="form-group">
            <span class="col-sm-4">
              <button type="button" class="btn btn-block btn-lg"
                      ng-click="pin = pin + '4'">&nbsp;</button>
            </span>
            <span class="col-sm-4">
              <button type="button" class="btn btn-block btn-lg"
                      ng-click="pin = pin + '5'">&nbsp;</button>
            </span>
            <span class="col-sm-4">
              <button type="button" class="btn btn-block btn-lg"
                      ng-click="pin = pin + '6'">&nbsp;</button>
            </span>
          </div>
          <div class="form-group">
            <span class="col-sm-4">
              <button type="button" class="btn btn-block btn-lg"
                      ng-click="pin = pin + '1'">&nbsp;</button>
            </span>

            <span class="col-sm-4">
              <button type="button" class="btn btn-block btn-lg"
                      ng-click="pin = pin + '2'">&nbsp;</button>
            </span>
            <span class="col-sm-4">
              <button type="button" class="btn btn-block btn-lg"
                      ng-click="pin = pin + '3'">&nbsp;</button>
            </span>
          </div>

          <div class="form-group">
            <input type="password" class="form-control h4 input-lg text-center pinmodal-pin"
                   autocomplete="off"
                   ng-model="pin">
            <div class="text-center"
                 ng-if="pin && type === 'PinMatrixRequestType_NewFirst'"
                 ng-controller="DeviceCtrl"
                 ng-switch="ratePin(pin)">
              <span ng-switch-when="weak" class="text-danger">Weak</span>
              <span ng-switch-when="fine" class="text-warning">Fine</span>
              <span ng-switch-when="strong" class="text-success">Strong</span>
              <span ng-switch-when="ultimate" class="text-success">Ultimate</span>
            </div>
          </div>

        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary btn-block btn-lg">Enter</button>
        </div>

      </form>

    </div>
  </div>
</div>
